[general]
network_check_url = http://www.apple.com/library/test/success.html
server_check_url=http://cp.cloudflare.com/generate_204
# server_check_url=http://www.qualcomm.cn/generate_204
# èŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•è¶…æ—¶å‚æ•°ï¼Œéœ€å°äº 2000 æ¯«ç§’æ‰ç”Ÿæ•ˆ
server_check_timeout=2000
# èµ„æºè§£æå™¨
resource_parser_url=https://fastly.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
# ç”¨äºèŠ‚ç‚¹é¡µé¢çš„ä¿¡æ¯å±•ç¤ºï¼Œå¯å®Œæ•´è‡ªå®šä¹‰
geo_location_checker = https://github.com/KOP-XIAO/QuantumultX/raw/master/Scripts/IP_API.js
# listä¸­çš„åŸŸåå°†ä¸ä½¿ç”¨fake-ipæ–¹å¼, å…¶å®ƒåŸŸååˆ™å…¨éƒ¨é‡‡ç”¨fake-ipåŠè¿œç¨‹è§£æçš„æ¨¡å¼
dns_exclusion_list = *.localnetwork.uop, *.qq.com, qq.com, *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn
excluded_routes= 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
fallback_udp_policy = reject
udp_drop_list = 443
icmp_auto_reply = true

[dns]
no-ipv6
# DoHæœåŠ¡å™¨(DNS over HTTPS)ä»¥åŠ å¯†çš„HTTPSåè®®è¿›è¡ŒDNSè§£æè¯·æ±‚ï¼Œé¿å…åŸå§‹DNSåè®®ä¸­ç”¨æˆ·çš„DNSè§£æè¯·æ±‚è¢«çªƒå¬æˆ–è€…ä¿®æ”¹çš„é—®é¢˜ï¼ˆä¾‹å¦‚ä¸­é—´äººæ”»å‡»ï¼‰æ¥è¾¾åˆ°ä¿æŠ¤ç”¨æˆ·éšç§çš„ç›®çš„
# è®¾ç½®DoHæœåŠ¡å™¨åï¼Œæ‰€æœ‰å…¶ä»–å¸¸è§„DNSæœåŠ¡å™¨è®¾ç½®å°†è¢«å¿½ç•¥ï¼›å½“è®¾ç½®äº†å¤šä¸ªDoHæœåŠ¡å™¨æ—¶ï¼Œåªä¼šä½¿ç”¨ç¬¬ä¸€ä¸ªï¼›å½“ä½¿ç”¨çš„ DoHæœåŠ¡å™¨ä¸æ˜¯åŸºäºHTTP/2æ—¶ï¼ŒDoHå°†è¢«æš‚æ—¶ç¦ç”¨ã€‚
# doh-server=https://cloudflare-dns.com/dns-query
doh-server=https://dns.alidns.com/dns-query
# å¸¸è§„DNSæœåŠ¡å™¨
# è…¾è®¯äº‘DNSPod DNS
server=119.29.29.29
server=119.28.28.28
# é˜¿é‡Œ AliDNS
server=223.5.5.5
# 114 DNS
server=114.114.114.114
# Google DNS
server=8.8.8.8
server=8.8.4.4
# Cloudflare DNs
server=1.1.1.1
# åˆ¶å®šåŸŸåè§£æ dns
server=/*.taobao.com/223.5.5.5
server=/*.tmall.com/223.5.5.5
server=/*.alipay.com/223.5.5.5
server=/*.aliyun.com/223.5.5.5
server=/*.jd.com/119.28.28.28
server=/*.qq.com/119.28.28.28
server=/*.tencent.com/119.28.28.28
server=/*.weixin.com/119.28.28.28
server=/*.bilibili.com/119.29.29.29
server=/*.netease.com/119.29.29.29
server=/*.testflight.apple.com/23.76.66.98

[policy]
# static=Final, direct, proxy, reject
# æ¯éš”60åˆ†é’Ÿæµ‹é€Ÿï¼Œå¦‚æœå½“å‰ä½¿ç”¨èŠ‚ç‚¹å’Œæœ€ä½å»¶è¿ŸèŠ‚ç‚¹ç›¸å·®è¶…è¿‡50msåˆ™è¿›è¡Œåˆ‡æ¢ï¼Œå¦åˆ™ä¸å˜
url-latency-benchmark=ğŸ‡¼ğŸ‡¸ IPLC-TW, server-tag-regex=^(?!ğŸ‡¨ğŸ‡³).*IPLC.*å°(?!.*åª’).*, check-interval=3600, tolerance=50
url-latency-benchmark=ğŸ‡­ğŸ‡° IPLC-HK, server-tag-regex=^(?!ğŸ‡¨ğŸ‡³).*IPLC.*æ¸¯.*, check-interval=3600, tolerance=50
url-latency-benchmark=ğŸ‡¸ğŸ‡¬ IPLC-SG, server-tag-regex=^(?!ğŸ‡¨ğŸ‡³).*IPLC.*æ–°.*, check-interval=3600, tolerance=50
url-latency-benchmark=ğŸ‡¯ğŸ‡µ IPLC-JP, server-tag-regex=^(?!ğŸ‡¨ğŸ‡³).*IPLC.*æ—¥.*, check-interval=3600, tolerance=50
url-latency-benchmark=ğŸ‡ºğŸ‡¸ IPLC-US, server-tag-regex=^(?!ğŸ‡¨ğŸ‡³).*IPLC.*ç¾.*, check-interval=3600, tolerance=50
url-latency-benchmark=ğŸ’­ ChatGPT, server-tag-regex=^(?!ğŸ‡¨ğŸ‡³).*GPT.*, check-interval=3600, tolerance=50
url-latency-benchmark=ğŸ  Trojan, server-tag-regex=^(?!ğŸ‡¨ğŸ‡³).*ç›´è¿(?!.*é¦™æ¸¯).*, check-interval=3600, tolerance=50
# ç­–ç•¥ç»„
static=AI, ğŸ‡¼ğŸ‡¸ IPLC-TW, ğŸ’­ ChatGPT, img-url=sparkles.system
static=SNS, ğŸ‡¼ğŸ‡¸ IPLC-TW, ğŸ‡­ğŸ‡° IPLC-HK, ğŸ‡¸ğŸ‡¬ IPLC-SG, ğŸ‡¯ğŸ‡µ IPLC-JP, ğŸ‡ºğŸ‡¸ IPLC-US, img-url=message.and.waveform.fill.system
static=Stream, ğŸ‡¼ğŸ‡¸ IPLC-TW, ğŸ‡­ğŸ‡° IPLC-HK, ğŸ‡¸ğŸ‡¬ IPLC-SG, ğŸ‡¯ğŸ‡µ IPLC-JP, ğŸ‡ºğŸ‡¸ IPLC-US, DIRECT, img-url=tv.and.mediabox.system
static=Apple, ğŸ‡­ğŸ‡° IPLC-HK, ğŸ‡ºğŸ‡¸ IPLC-US, direct, img-url=applelogo.system
static=Mainland, ğŸ‡¼ğŸ‡¸ IPLC-TW, ğŸ‡­ğŸ‡° IPLC-HK, direct, img-url=yensign.system
static=Final, ğŸ‡¼ğŸ‡¸ IPLC-TW, ğŸ‡­ğŸ‡° IPLC-HK, ğŸ‡¸ğŸ‡¬ IPLC-SG, ğŸ‡¯ğŸ‡µ IPLC-JP, ğŸ‡ºğŸ‡¸ IPLC-US, direct, img-url=airplane.departure.system

[filter_remote]
# Mainland
https://raw.githubusercontent.com/lychileng/QuanX/refs/heads/main/Rules/Mainland.list, tag=Mainland Rules, force-policy=Mainland, update-interval=86400, opt-parser=false, enabled=true
# AI
https://raw.githubusercontent.com/lychileng/QuanX/refs/heads/main/Rules/AI.list, tag=AI Rules, force-policy=AI, update-interval=86400, opt-parser=true, enabled=true
# Speedtest
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Speedtest/Speedtest.list, tag=Speedtest Rules, force-policy=Final, update-interval=86400, opt-parser=false, enabled=true
# Netflix
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Netflix/Netflix.list, tag=Netflix Rules, force-policy=Stream, update-interval=86400, opt-parser=false, enabled=true
# Spotify
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Spotify/Spotify.list, tag=Spotify Rules, force-policy=Stream, update-interval=86400, opt-parser=false, enabled=true
# YouTube
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX//YouTube/YouTube.list, tag=YouTube Rules, force-policy=Stream, update-interval=86400, opt-parser=false, enabled=true
# GlobalMedia
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/GlobalMedia/GlobalMedia.list, tag=GlobalMedia Rules, force-policy=Stream, update-interval=86400, opt-parser=false, enabled=true
# Telegram
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Telegram/Telegram.list, tag=Telegram Rules, force-policy=SNS, update-interval=86400, opt-parser=false, enabled=true
# Paypal
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/PayPal/PayPal.list, tag=PayPal Rules, force-policy=Final, update-interval=86400, opt-parser=false, enabled=true
# Microsoft
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Microsoft/Microsoft.list, tag=Microsoft Rules, force-policy=Mainland, update-interval=86400, opt-parser=false, enabled=true
# Twitter
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Twitter/Twitter.list, tag=Twitter Rules, force-policy=SNS, update-interval=86400, opt-parser=false, enabled=true
# Google
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Google/Google.list, tag=Google Rules, force-policy=Final, update-interval=86400, opt-parser=false, enabled=true
# TestFlight
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rule/QuantumultX/TestFlight/TestFlight.list, tag=TestFlight Rules, force-policy=Apple, update-interval=172800, opt-parser=false, enabled=true
# Apple
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Apple/Apple.list, tag=Apple Rules, force-policy=Apple, update-interval=86400, opt-parser=false, enabled=true
# Nike
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Nike/Nike.list, tag=Nike Rules, force-policy=Final, update-interval=86400, opt-parser=false, enabled=true
# BiliBili
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/BiliBili/BiliBili.list, tag=Bilibili Rules, force-policy=Mainland, update-interval=172800, opt-parser=false, enabled=true
# Advertising
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Advertising/Advertising.list, tag=Advertising Rules, force-policy=Final, update-interval=86400, opt-parser=true, enabled=true

[filter_local]
# ç»•è¿‡ä¼ä¸šè¯ä¹¦è¿‡æœŸ
host, ocsp.apple.com, REJECT
host-suffix, sentry.io, REJECT
host-keyword, exitgames.com, Final
host-suffix, bnbstatic.com, ğŸ‡¼ğŸ‡¸ IPLC-TW
# Binance ä½¿ç”¨ TW èŠ‚ç‚¹
host-suffix, binance.com, ğŸ‡¼ğŸ‡¸ IPLC-TW
host-suffix, binance.org, ğŸ‡¼ğŸ‡¸ IPLC-TW
host-suffix, binance.us, ğŸ‡¼ğŸ‡¸ IPLC-TW
host-keyword, binance, ğŸ‡¼ğŸ‡¸ IPLC-TW
# GitHub ä½¿ç”¨ Stream èŠ‚ç‚¹
host-suffix, github.com, Stream
host-keyword, github, Stream
# Duolingo ä½¿ç”¨ç›´è¿
host-suffix, duolingo.com, DIRECT
host-keyword, duolingo, DIRECT
# Fotmob ä½¿ç”¨æµåª’ä½“èŠ‚ç‚¹
host-suffix, fotmob.com, Stream
host-keyword, fotmob, Stream
# FT News ä½¿ç”¨æµåª’ä½“èŠ‚ç‚¹
host-suffix, ft.com, Stream
host-suffix, ftchinese.com, Stream
host-suffix, chineseft.net, Stream
# Discord
host-suffix, discordapp.com, SNS
host-suffix, discord.com, SNS
host-suffix, cdn.discordapp.com, SNS
# å…¶ä»–ç›´è¿è®¾ç½®
host-suffix, local, DIRECT
ip-cidr, 192.168.0.0/16, DIRECT
ip-cidr, 10.0.0.0/8, DIRECT
ip-cidr, 172.16.0.0/12, DIRECT
ip-cidr, 127.0.0.0/8, DIRECT
ip-cidr, 100.64.0.0/10, DIRECT
ip-cidr, 224.0.0.0/4, DIRECT
ip6-cidr, fe80::/10, DIRECT
# å¤§é™†æµé‡ç›´è¿ï¼Œéå¤§é™†æµé‡èµ°ä»£ç†
geoip, cn, DIRECT
geoip, !cn, Final
# æœ€ç»ˆè§„åˆ™
final, Final

[rewrite_remote]
# è¿œç¨‹é‡å†™
# åŒ…å«ä¸»æœºå hostndoubleclickwrite
# update-interval ä¸ºæ›´æ–°æ—¶é—´å‚æ•°ï¼Œå•ä½ï¼šç§’, é»˜è®¤æ›´æ–°æ—¶é—´ä¸ºï¼š24*60*60=86400 ç§’ï¼Œä¹Ÿå°±æ˜¯24å°æ—¶
# opt-parser=true/false ç”¨äºæ§åˆ¶æ˜¯å¦å¯¹è®¢é˜…å¼€å¯èµ„æºè§£æå™¨ï¼Œä¸å†™æˆ–è€… false è¡¨ç¤ºä¸å¯ç”¨è§£æå™¨
https://raw.githubusercontent.com/lychileng/QuanX/refs/heads/main/Rules/AllinOne.conf, tag=AllinOne, update-interval=86400, opt-parser=true, enabled=true
https://raw.githubusercontent.com/app2smile/rules/master/module/youtube-qx.conf, tag=Youtube, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/release/rewrite/QuantumultX/Advertising/Advertising.conf, tag=Advertising, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/Redirect/Redirect.conf, tag=Redirect, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=BoxJS, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Neurogram-R/Quantumult-X/main/snippet/Dualsub.snippet, tag=Dualsub(Neurogram-R), update-interval=172800, opt-parser=false, enabled=true

[rewrite_local]
# æœ¬åœ°é‡å†™
# Sub-Store
^https?://sub\.store -url script-analyze-echo-response https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/sub-store.min.js
# Google å®šå‘
^https?://(www\.)?g\.cn url 302 https://www.google.com
^https?://(www\.)?google\.cn url 302 https://www.google.com
^https?://(www\.)?google\.cn\/search url 302 https://www.google.com/search

[server_remote]

[server_local]

[task_local]

[mitm]
# passphrase = 
# p12 = 
skip_validating_cert = false
force_sni_domain_name = false
hostname = *.ftchinese.com, *.chineseft.net, *.fotmob.com, *.duolingo.com, sub.store, -*.amemv.com, -*.snssdk.com, www.google.cn, www.g.cn
simple_cert_hostname=sub.store